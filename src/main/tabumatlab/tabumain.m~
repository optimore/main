function statuscode = tabumain(dataPath,modelParameters,logPath)
%% Tabu main launching script
% This script is the over all launcher of the tabu search algorithm
%
% 
%
% Created by: Victor Bergelin
% Date created:
% Version number 0.01

% Linköping University, Linköping

statuscode = 0;

try
    % 1. Setup logging
    
    logfile = GetLog(logPath);

    % 2. Read data and data parameters
    data = GetData(dataPath);

    % 3. Create model
    model = CombindModelsFromParameters(modelParameters,data.parameters);

    % 4. Starting condition from model
    % model.start
    
    
    % 5. Perform tabu
    conditionsAreNotMet = 1;
    while conditionsAreNotMet
        try
            model.actionList = GetActionList(model,data);
            data.data = DoAction(model,data);

            model = evaluateNextStep(model,data);

            if model.conditionAreMet
                conditionsAreNotMet = 0;
            end
        catch err
           % fprintf(logfile,[err.stack,'\n'])
            rethrow(err);
        end
    end
    
    
    % . If all was successful, then set statuscode to 1
    statuscode = 1;
    
catch err
    % In case of an error, set statuscode to -1
    statuscode = -1;
    fprintf(logfile,['Error in: ', err.stack.name, '\nFile: ', err.stack.file, '\n', ...
        err.stack.line, '\nClosing tabu-log due to fatal error', ... 
        '\n-------------------------------\n']);
    
    fclose('all');
end
end